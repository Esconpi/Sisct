@{
    ViewData["Title"] = "Relatory";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

    <div class="box box-primary">
        <div class="box-header">
            <div style="width:100%; overflow:hidden; padding:20px;">
                <div class="row">
                    <div class="col-lg-12">
                        <img src="~/img/sisCT.png" style="width:25%; height:60%; float:left;" />
                        <img src="~/img/escon.png" style="width:20%; height:50%; float:right;" />
                    </div>
                </div>

            </div>

            @if (ViewBag.Type != "anexoMedicamento" && ViewBag.Type != "anexoAutoPecas")
            {
                <div style="text-align:center;">
                    <strong>@ViewBag.Company.SocialName - @ViewBag.Company.Document</strong>
                </div>

                <div style="width:100%; overflow:hidden; padding:20px;">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group col-lg-6 col-md-6 col-xs-12">
                                @await Html.PartialAsync("_ReportTypeName", new ViewDataDictionary(ViewData))
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-xs-12" style="text-align:right;">
                                <strong>Periodo: @SessionManager.GetMonthInSession()/@SessionManager.GetYearInSession()</strong>
                            </div>
                        </div>
                    </div>
                </div>
            }

        </div>
        <div class="box-body">
            <div style="width:100%; padding:10px;">

                @if (ViewBag.Type == "resumoCfop")
                {
                    @if (ViewBag.Opcao == "saida")
                    {
                        @await Html.PartialAsync("_CfopSummaryExit", new ViewDataDictionary(ViewData))
                    }
                    else
                    {
                        @await Html.PartialAsync("_CfopSummaryEntry", new ViewDataDictionary(ViewData))
                    }

                }
                else if (ViewBag.Type == "anexo")
                {
                    @await Html.PartialAsync("_AttachedSale", new ViewDataDictionary(ViewData))
                }
                else if (ViewBag.Type == "foraAnexo")
                {
                    @await Html.PartialAsync("_AttachedFSale", new ViewDataDictionary(ViewData))
                }
                else if (ViewBag.Type == "resumoPorCfop")
                {
                    @await Html.PartialAsync("_SummaryByCfop", new ViewDataDictionary(ViewData))
                }
                else if (ViewBag.Type == "suspensao")
                {
                    @await Html.PartialAsync("_SuspensionNotes", new ViewDataDictionary(ViewData))
                }
                else if (ViewBag.Type == "foraIncentivo")
                {
                    @await Html.PartialAsync("_Non-IncentiveSales", new ViewDataDictionary(ViewData))
                }
                else if (ViewBag.Type == "produtoST")
                {
                    @await Html.PartialAsync("_ProdutoST", new ViewDataDictionary(ViewData))
                }
                else if (ViewBag.Type == "anexoAutoPecas")
                {
                    @if (ViewBag.Erro == 1)
                    {
                        <p style="text-align:center;color:red;"><strong>Os dados para calcular Anexo não foram importados</strong></p>
                    }
                    else
                    {
                        @await Html.PartialAsync("_EstablishmentIdentification", new ViewDataDictionary(ViewData))

                        @await Html.PartialAsync("_AutoPartsAttachment", new ViewDataDictionary(ViewData))
                    }

                }
                else if (ViewBag.Type == "anexoMedicamento")
                {
                    @if (ViewBag.Erro == 1)
                    {
                        <p style="text-align:center;color:red;"><strong>"Há Cliente não Importado</strong></p>
                    }
                    else
                    {
                        @await Html.PartialAsync("_EstablishmentIdentification", new ViewDataDictionary(ViewData))

                        @await Html.PartialAsync("_MedicineAttachmentPart1", new ViewDataDictionary(ViewData))

                        @await Html.PartialAsync("_MedicineAttachmentPart2", new ViewDataDictionary(ViewData))
                    }

                }
                else if (ViewBag.Type == "venda")
                {
                    @if (ViewBag.Erro == 1)
                    {
                        <p style="text-align:center;color:red;"><strong>Os dados para calcular ICMS não foram importados</strong></p>
                    }
                    else
                    {
                        @await Html.PartialAsync("_SurplusICMS", new ViewDataDictionary(ViewData))
                    }
                }
                else if (ViewBag.Type == "incentivo")
                {
                    @if (ViewBag.Erro == 1)
                    {
                        <p style="text-align:center;color:red;"><strong>Os dados para calcular ICMS não foram importados</strong></p>
                    }
                    else
                    {
                        if (ViewBag.Company.AnnexId != 3)
                        {
                            if (ViewBag.Company.TypeCompany == true)
                            {
                                @await Html.PartialAsync("_ProductIncentive", new ViewDataDictionary(ViewData))
                            }
                            else
                            {
                                @await Html.PartialAsync("_IndustryIncentive", new ViewDataDictionary(ViewData))
                            }
                        }
                        else if (ViewBag.Company.AnnexId == 3)
                        {
                            if (ViewBag.Company.SectionId == 2)
                            {

                                @await Html.PartialAsync("_IncentiveDrugsSectionI", new ViewDataDictionary(ViewData))
                            }

                        }
                    }
                }
                else if (ViewBag.Type == "tributacaoDiveregente")
                {
                    @if (ViewBag.Erro == 1)
                    {
                        <p style="text-align:center;color:red;"><strong>O NCM @ViewBag.Ncm não estar cadastrado</strong></p>
                    }
                    else
                    {
                        @await Html.PartialAsync("_DivergentTaxation", new ViewDataDictionary(ViewData))
                    }
                }
            </div>
        </div>
    </div>